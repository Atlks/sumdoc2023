bk prgrmlan> 计算模型  ，堆栈机和状态机



[toc]

# 两种计算模型  ，堆栈机和状态机（基于寄存器的虚拟机
有了上面的基础只是，我们就知道，堆栈机和状态机不过是两种不同的图灵完整的计算模型而已。
# 堆栈机
所谓堆栈机，就是计算机的状态是存在于堆栈之中，通过对堆栈中的元素进行运算和调整，来实现计算功能的计算机。 
例如，要进行一个1+2的加法运算，那么就：
操作	堆栈状态
初始状态	 
将1压入栈中	1
将2压入栈中	1, 2
调用加法运算	3
其典型代表就是Python的虚拟机，代码如下：
push 1push 2
Add

 

# 状态机
状态机的基本原理就在于，它可以有有限种状态，指令能够让它在不同的状态之间进行转换。 
听起来很抽象？ 
但其实，我们大部分写代码的时候都是对状态机编程，比如c代码：
int a = 1;int b = 2;int c = a + b;
其实这个状态机有2^96种状态（假设int是32位的），因为变量a有2^32种状态（-2147483648~2147483647），b、c亦然。
操作	a的状态	b的状态	c的状态
初始状态	0	0	0
a=1	1	0	0
b=2	1	2	0
c=a+b	1	2	3
典型代表就是Lua的虚拟机，应的代码就是：
loadk 0 1
loadk 1 2
add 2 0 1
意思就是：
register[0] = 1register[1] = 2register[2] = register[0] + register[1]