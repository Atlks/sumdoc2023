bk prgrm 解析器parser

词法分析器 vs 语法分析 

算机科学中，递归下降解析器是一种自上而下的解析器（英语：Top-down parsing），由一组相互递归的程序（或等价的非递归程序）构建而成，其中每个程序都实现了文法 ...


什么是解析器（Parser）
所谓解析器（Parser），一般是指把某种格式的文本（字符串）转换成某种数据结构的过程。最常见的解析器（Parser），是把程序文本转换成编译器内部的一种叫做抽象语法树（AST）的数据结构，此时也叫做语法分析器（Parser）。也有一些简单的解析器（Parser），用于处理CSV、JSON，XML之类的格式。


之所以需要做这种从字符串到数据结构的转换，是因为编译器是无法直接操作“1+2”这样的字符串的。实际上，代码的本质根本就不是字符串，它本来就是一个具有复杂拓扑的数据结构，就像电路一样。“1+2”这个字符串只是对这种数据结构的一种“编码”，就像 ZIP 或者 JPEG 只是对它们压缩的数据的编码一样。


这种编码可以方便你把代码存到磁盘上，方便你用文本编辑器来修改它们，然而你必须知道，文本并不是代码本身。所以从磁盘读取了文本之后，你必须先“解码”，才能方便地操作代码的数据结构。比如，如果上面的 Java 代码生成的 AST 节点叫 node，你就可以用 node.operator 来访问 ADD，用 node.left 来访问 1，node.right 来访问 2。这是很方便的。

对于程序语言，这种解码的动作就叫做 parsing，用于解码的那段代码就叫做 parser。


解释器中的解析器一般包含：

扫描器（scanner，也叫tokenizer或者lexical analyzer，词法分析器）。扫描器的输入一般是文本，经过词法分析，输出是将文本切割为单词的流。
语法分析器（parser，也叫syntax analyzer）。语法分析器的输入是单词的流，经过语法分析，输出是语法树或者精简过的AST。
综合来看，解析器主要作用是进行词法分析和语法分析，提取出句子的结构。其输入一般是程序的源码，输出一般是语法树（syntax tree）或抽象语法树（abstract syntax tree，AST）。